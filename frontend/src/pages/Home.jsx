import React,{useEffect,useState} from 'react'
import { Link } from 'react-router-dom'
const API=import.meta.env.VITE_API_BASE||'http://localhost:4000/api'
function GameCard({game}){return(<div className='rounded-2xl p-4 bg-slate-900 shadow'><div className='flex items-center justify-between gap-3'><div className='text-xl font-semibold leading-tight'>{game.away_team} @ {game.home_team}</div><div className='text-sm opacity-80 text-right whitespace-nowrap'>{new Date(game.kickoff_ts).toLocaleString()}</div></div><div className='mt-2 text-sm opacity-90'>{game.venue||'TBD venue'}</div><div className='mt-3 flex gap-2'><Link className='px-3 py-1 rounded-full bg-blue-600 hover:bg-blue-500' to={`/games/${game.game_id}`}>Open</Link></div></div>)}
export default function Home(){const[games,setGames]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetch(`${API}/games`).then(r=>r.json()).then(d=>{setGames(d.games||[]);setLoading(false)}).catch(e=>{setError(String(e));setLoading(false)})},[]);return(<div className='max-w-5xl mx-auto p-6'><header className='flex items-center gap-3'><div className='text-sm opacity-80'>Upcoming NFL Games</div></header>{loading&&<div className='mt-4'>Loadingâ€¦</div>}{error&&<div className='mt-4 text-red-400'>Error: {error}</div>}<div className='mt-4 grid sm:grid-cols-2 gap-4'>{games.map(g=><GameCard key={g.game_id} game={g}/>)}</div></div>)}
